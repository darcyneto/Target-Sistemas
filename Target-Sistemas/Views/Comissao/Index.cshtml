@model List<ComissaoResultado>
@{
    ViewData["Title"] = "Comissão de Vendas";
}

<div class="container mt-4">
    <h2>Comissão de Vendas</h2>
    <hr />

    @if (Model != null && Model.Any())
    {
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Vendedor</th>
                        <th class="text-end">Total de Vendas</th>
                        <th class="text-end">Total de Comissão</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.Vendedor</td>
                            <td class="text-end">@item.TotalVendas.ToString("C", new System.Globalization.CultureInfo("pt-BR"))</td>
                            <td class="text-end fw-bold text-success">@item.TotalComissao.ToString("C", new System.Globalization.CultureInfo("pt-BR"))</td>
                        </tr>
                    }
                </tbody>
                <tfoot class="table-secondary">
                    <tr>
                        <th>Total Geral</th>
                        <th class="text-end">@Model.Sum(x => x.TotalVendas).ToString("C", new System.Globalization.CultureInfo("pt-BR"))</th>
                        <th class="text-end">@Model.Sum(x => x.TotalComissao).ToString("C", new System.Globalization.CultureInfo("pt-BR"))</th>
                    </tr>
                </tfoot>
            </table>
        </div>

        <div class="alert alert-info mt-3">
            <strong>Regras de Comissão:</strong><br />
            • Vendas abaixo de R$ 100,00: 0% de comissão<br />
            • Vendas entre R$ 100,00 e R$ 499,99: 1% de comissão<br />
            • Vendas a partir de R$ 500,00: 5% de comissão
        </div>
    }
    else
    {
        <div class="alert alert-warning">
            Nenhuma venda encontrada.
        </div>
    }
</div>

